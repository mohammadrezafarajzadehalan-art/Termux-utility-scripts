#!/bin/bash
# dream_factory.sh

echo "๐ ุฑุงูโุงูุฏุงุฒ ฺฉุงุฑุฎุงูู ุฑูุงูุง ุณูุงุฑุด"

# ููุงุด ููู ุฑูุงูุง
show_dream_catalog() {
    cat << EOF

    ๐ ฺฉุงุชุงููฺฏ ุฑูุงูุง ููุฌูุฏ:
    
    ๐ฏ ุฑูุงูุง ูุงุฌุฑุงุฌูุงูู:
      ฑ) ูพุฑูุงุฒ ุจุฑ ูุฑุงุฒ ูููโูุง ูุฑุฎ
      ฒ) ุบูุงุต ุฏุฑ ุงูุงููุณโูุง ุงุฑููพุง (ูุงู ูุดุชุฑ)
      ณ) ุณูุฑ ุจุง ฺฉุดุช ูุถุง ุจู ููุจ ุณุญุงุจ
    
    ๐ ุฑูุงูุง ุนุงุทู:
      ด) ุฏุฏุงุฑ ุจุง ุนุฒุฒุงู ุงุฒ ุฏุณุช ุฑูุชู
      ต) ุฒูุฏฺฏ ุฏุฑ ุฌูุงู ุจุฏูู ุฌูฺฏ
      ถ) ุนุดู ฺฉู ูุฑฺฏุฒ ูพุงุงู ููโุงุจุฏ
    
    ๐จ ุฑูุงูุง ุฎูุงูุงูู:
      ท) ููุงุด ุจุง ุฑูฺฏโูุง ฺฉูฺฉุดุงู
      ธ) ููุดุชู ฺฉุชุงุจ ฺฉู ุฎูุฏุด ุฑุง ูโุฎูุงูุฏ
      น) ุณุงุฎุชู ููุณู ุจุง ุตุฏุง ุณุงุฑูโูุง
    
    ๐ง ุฑูุงูุง ููุณู:
      ฑฐ) ฺฏูุชฺฏู ุจุง ุฎูุฏุช ุงุฒ ุขูุฏู
      ฑฑ) ูุดุงูุฏู ุชููุฏ ฺฉูุงู
      ฑฒ) ุฏุฑฺฉ ุฑุงุฒ ุขฺฏุงู
    
    ๐ ุฑูุงูุง ุณูุงุฑุด:
      ฑณ) ุทุฑุงุญ ุฑูุง ุดุฎุต ุฎูุฏุช

EOF
}

# ุทุฑุงุญ ุฑูุง ุณูุงุฑุด
design_custom_dream() {
    echo ""
    echo "๐จ ุทุฑุงุญ ุฑูุง ุณูุงุฑุด"
    echo "======================"
    
    read -p "ูุงู ุฑูุงุช: " dream_name
    read -p "ูุญุท ุฑูุง (ูุซุงู: ุฌูฺฏู ุฌุงุฏูุ ุดูุฑ ุดูุงูุฑุ ...): " setting
    read -p "ุดุฎุตุชโูุง ุงุตู: " characters
    read -p "ุญูุงุฏุซ ุงุตู: " events
    read -p "ูพุงุงู ุฑูุง: " ending
    read -p "ุฑูฺฏ ุบุงูุจ: " color
    read -p "ููุณู ุฒููู: " music
    
    echo ""
    echo "๐ ุฏุฑ ุญุงู ุชููุฏ ุฑูุง '$dream_name'..."
    sleep 2
    
    # ุชููุฏ ฺฉุฏ ุฑูุง
    DREAM_CODE="DREAM-$(date +%s | tail -c 6)"
    
    cat > "${DREAM_CODE}.dream" << EOF
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         ุฑูุง ุณูุงุฑุด                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ ูุงู: $dream_name
โ ฺฉุฏ: $DREAM_CODE
โ ุชุงุฑุฎ ุชููุฏ: $(date)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ         ูุดุฎุตุงุช ุฑูุง:                โ
โ ูุญุท: $setting
โ ุดุฎุตุชโูุง: $characters
โ ุญูุงุฏุซ: $events
โ ูพุงุงู: $ending
โ ุฑูฺฏ: $color
โ ููุณู: $music
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ      ุฏุณุชูุฑุงูุนูู ุงุณุชูุงุฏู:            โ
โ ฑ. ุงู ูุงู ุฑุง ฺฉูุงุฑ ุชุฎุชุช ุจฺฏุฐุงุฑ      โ
โ ฒ. ูุจู ุงุฒ ุฎูุงุจ ุขู ุฑุง ุจุฎูุงู          โ
โ ณ. ฺุดูุงูุช ุฑุง ุจุจูุฏ ู ุฑูุง ุฑุง ุชุฌุณู ฺฉู โ
โ ด. ููุณ ุนูู ุจฺฉุด ู ุฑูุง ุดู            โ
โ ต. ุตุจุญ ุฎุงุทุฑุงุชุช ุฑุง ุจููุณ             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ุงุฏุฏุงุดุช ฺฉุงุฑุฎุงูู:
ุงู ุฑูุง ฑฐฐูช ุชุฌุฒูโูพุฐุฑ ุงุณุช.
ูฺ ุนุงุฑุถู ุฌุงูุจ ูุฏุงุฑุฏ.
ููุท ุดุงุฏ ู ุงููุงู ุจู ุฌุง ูโฺฏุฐุงุฑุฏ.

ุดุจ ุจุฎุฑ ู ุฑูุง ุดุฑู!
ฺฉุงุฑุฎุงูู ุฑูุงูุง ุณุชุงุฑูโุง
EOF
    
    echo "โ ุฑูุง '$dream_name' ุชููุฏ ุดุฏ!"
    echo "๐ ฺฉุฏ ุฑูุง: $DREAM_CODE"
    echo "๐ ุฌุฒุฆุงุช ุฏุฑ ูุงู ${DREAM_CODE}.dream ุฐุฎุฑู ุดุฏ."
    
    # ูพุดโุจู ุงุซุฑ ุฑูุง
    echo ""
    echo "๐ฎ ูพุดโุจู ุงุซุฑุงุช ุงู ุฑูุง:"
    EFFECTS=(
        "ุงูุฒุงุด ุฎูุงูุช ุจู ูุฏุช ณ ุฑูุฒ"
        "ุงุญุณุงุณ ุณุจฺฉ ู ุขุฑุงูุด"
        "ุงุฏูโูุง ุฌุฏุฏ ุจุฑุง ุฒูุฏฺฏ ูุงูุน"
        "ุฎูุงุจ ุนูู ู ุชุฑูู"
        "ุฎุงุทุฑูโุง ุจุฑุง ููุดู"
    )
    
    for effect in "${EFFECTS[@]}"; do
        echo "   โจ $effect"
        sleep 0.3
    done
}

# ุชููุฏ ุฑูุง ุงุฒ ูพุด ุทุฑุงุญ ุดุฏู
produce_standard_dream() {
    local dream_number=$1
    
    declare -A dreams
    dreams[1]="ูพุฑูุงุฒ ุจุฑ ูุฑุงุฒ ูููโูุง ูุฑุฎ|ุณุฑุฎ ู ุทูุง|ุตุฏุง ุจุงุฏ ูุฑุฎ|ุขุฒุงุฏ ูุทูู"
    dreams[2]="ุบูุงุต ุฏุฑ ุงูุงููุณโูุง ุงุฑููพุง|ุขุจ ุฎ|ุขูุงุฒ ููุฌูุฏุงุช ุฒุฑ ุฎ|ฺฉุดู ุฑุงุฒ ุฒูุฏฺฏ"
    dreams[4]="ุฏุฏุงุฑ ุจุง ุนุฒุฒุงู ุงุฒ ุฏุณุช ุฑูุชู|ุทูุง ูุฑู|ุฎูุฏูโูุง ุขุดูุง|ุตูุญ ุฏุฑูู"
    dreams[7]="ููุงุด ุจุง ุฑูฺฏโูุง ฺฉูฺฉุดุงู|ุฑูฺฏูโฺฉูุงู|ุณูููู ุณุชุงุฑูโูุง|ุงุซุฑ ุฌุงูุฏุงูู"
    dreams[10]="ฺฏูุชฺฏู ุจุง ุฎูุฏุช ุงุฒ ุขูุฏู|ููุฑูุง ูุชุงูฺฉ|ุตุฏุง ุฒูุงู|ุจูุด ุฌุฏุฏ"
    
    if [[ -n "${dreams[$dream_number]}" ]]; then
        IFS='|' read -r name color music ending <<< "${dreams[$dream_number]}"
        
        echo ""
        echo "๐ญ ุฏุฑ ุญุงู ุชููุฏ ุฑูุง '$name'..."
        sleep 2
        
        DREAM_CODE="STD-${dream_number}-$(date +%H%M%S)"
        
        cat > "${DREAM_CODE}.dream" << EOF
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ        ุฑูุง ุงุณุชุงูุฏุงุฑุฏ               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ ูุงู: $name
โ ฺฉุฏ: $DREAM_CODE
โ ููุน: ุงุณุชุงูุฏุงุฑุฏ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ     ูฺฺฏโูุง ุชุถููโุดุฏู:            โ
โ โข ฺฉูุช ุจุงูุง                        โ
โ โข ุจโุฎุทุฑ                            โ
โ โข ุชุฃุฏ ุดุฏู ุชูุณุท ฑฐฐฐ ุฎูุงุจโุจู     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ         ูุดุฎุตุงุช ูู:                 โ
โ ุฑูฺฏ: $color
โ ููุณู: $music
โ ูพุงุงู: $ending
โ ูุฏุช: ถ-ธ ุณุงุนุช
โ ุดุฏุช: ูุชูุณุท
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ูฺฉุชู: ุงู ุฑูุง ููฺฉู ุงุณุช ุญุงู ูพุงูโูุง ูุงุฎูุฏุขฺฏุงู ุจุงุดุฏ.
ุขููุง ูุฏู ุฑูุญ ุชู ุจู ุฎูุฏุช ูุณุชูุฏ.

ฺฉุงุฑุฎุงูู ุฑูุงูุง ุงุตู
EOF
        
        echo "โ ุฑูุง '$name' ุขูุงุฏู ุงุณุช!"
        echo "๐ ฺฉุฏ: $DREAM_CODE"
    else
        echo "โ ุดูุงุฑู ุฑูุง ูุงูุนุชุจุฑ ุงุณุช"
    fi
}

# ุขุฒูุงุดฺฏุงู ฺฉูุชุฑู ฺฉูุช ุฑูุงูุง
quality_lab() {
    echo ""
    echo "๐ฌ ุขุฒูุงุดฺฏุงู ฺฉูุชุฑู ฺฉูุช ุฑูุงูุง"
    echo "================================"
    
    echo "ุขุฒูุงุดโูุง ุฏุฑ ุญุงู ุงูุฌุงู:"
    
    tests=(
        "ุขุฒูุงุด ุฎููุต ุนุงุทู: ุฏุฑ ุญุงู ุงูุฌุงู... โ"
        "ุจุฑุฑุณ ุณูโุฒุฏุง ุงุถุทุฑุงุจ: ุชฺฉูู ุดุฏ... โ"
        "ุงูุฏุงุฒูโฺฏุฑ ูุฒุงู ุงููุงู: นตูช... โ"
        "ุขุฒูุงุด ูุงูุฏฺฏุงุฑ ุฎุงุทุฑู: ทฒ ุณุงุนุช... โ"
        "ุจุฑุฑุณ ุนูุงุฑุถ ุฌุงูุจ: ุตูุฑ ฺฏุฒุงุฑุด... โ"
    )
    
    for test in "${tests[@]}"; do
        echo "   ๐งช $test"
        sleep 0.5
    done
    
    echo ""
    echo "๐ ฺฏุฒุงุฑุด ฺฉูุช:"
    echo "   ฺฉูุช ฺฉู: โญโญโญโญโญ (ต/ต)"
    echo "   ุฑุถุงุช ุฎูุงุจโุจูุงู: นธูช"
    echo "   ุงุซุฑ ูุซุจุช ุจุฑ ุฒูุฏฺฏ ูุงูุน: นฒูช"
    echo "   ุชูุตู ุจู ุฏฺฏุฑุงู: ฑฐฐูช"
}

# ููู ุงุตู
while true; do
    echo ""
    echo="๐ญ ฺฉุงุฑุฎุงูู ุฑูุงูุง ุดุฎุตโุณุงุฒ ุดุฏู"
    echo "ฑ) ูุดุงูุฏู ฺฉุงุชุงููฺฏ ุฑูุงูุง"
    echo "ฒ) ุทุฑุงุญ ุฑูุง ุณูุงุฑุด"
    echo "ณ) ุชููุฏ ุฑูุง ุงุณุชุงูุฏุงุฑุฏ"
    echo "ด) ุขุฒูุงุดฺฏุงู ฺฉูุชุฑู ฺฉูุช"
    echo "ต) ุฎุฑูุฌ"
    
    read -p "ุงูุชุฎุงุจ ฺฉู: " choice
    
    case $choice in
        1) show_dream_catalog ;;
        2) design_custom_dream ;;
        3)
            echo ""
            read -p "ุดูุงุฑู ุฑูุง ููุฑุฏ ูุธุฑ (ุงุฒ ฺฉุงุชุงููฺฏ): " dream_num
            if [[ "$dream_num" =~ ^[0-9]+$ ]]; then
                produce_standard_dream "$dream_num"
            else
                echo "ูุทูุงู ุนุฏุฏ ูุงุฑุฏ ฺฉู"
            fi
            ;;
        4) quality_lab ;;
        5)
            echo ""
            echo "๐ ฺฉุงุฑุฎุงูู ููุดู ุฏุฑ ุญุงู ุชููุฏ ุฑูุงุณุช..."
            echo "ุจู ุงุฏ ุฏุงุดุชู ุจุงุด:"
            echo "ุจูุชุฑู ุฑูุงูุง ุขููุง ูุณุชูุฏ ฺฉู ูโุจูุ"
            echo "ุจูฺฉู ุขููุง ูุณุชูุฏ ฺฉู ุฒูุฏฺฏ ูโฺฉู."
            echo ""
            echo "ุดุจโูุง ูพุฑ ุงุฒ ุฑูุงูุง ุฒุจุง ุจุฑุงุชุ ุณุงูู ุฌุงู! โจ"
            break
            ;;
        *) echo "ุงู ฺฏุฒูู ุฏุฑ ุฑูุงูุง ูุง ูุฌูุฏ ูุฏุงุฑุฏ!" ;;
    esac
done