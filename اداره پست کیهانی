#!/bin/bash
# cosmic_post_office.sh

echo "๐ฎ ุจู ุงุฏุงุฑู ูพุณุช ฺฉูุงู ุฎูุด ุขูุฏ!"

# ุงุฌุงุฏ ฺฉ ูุงูู ฺฉูุงู
create_cosmic_letter() {
    echo ""
    echo "๐ ููุดุชู ูุงูู ุจู ฺฉูุงู..."
    
    read -p "ฺฏุฑูุฏู (ูุซุงู: ูุงูุ ุณุชุงุฑู ุดูุงูุ ุขูุฏู): " recipient
    read -p "ููุถูุน ูุงูู: " subject
    echo "ูุชู ูุงูู (ูพุณ ุงุฒ ูพุงุงูุ ุฏุฑ ฺฉ ุฎุท ุฌุฏุฏ 'ูพุงุงู' ุจููุณ):"
    
    letter_content=""
    while true; do
        read line
        if [[ "$line" == "ูพุงุงู" ]]; then
            break
        fi
        letter_content+="$line"$'\n'
    done
    
    # ุงูุชุฎุงุจ ุฑูุด ุงุฑุณุงู
    echo ""
    echo "๐ ุฑูุด ุงุฑุณุงู:"
    echo "ฑ) ูพุณุช ุณุชุงุฑูโุง (ุนุงุฏ - ณ ุฑูุฒ ููุฑ)"
    echo "ฒ) ูพุณุช ููุฑ ููุฑ (ุณุฑุน - ูุญุธูโุง)"
    echo "ณ) ูพุณุช ุฑูุง (ุชูุณุท ูพุฑูุฏฺฏุงู ุฎุงู)"
    echo "ด) ูพุณุช ููุจโูุง (ูุณุชูู ุจู ุฏู ฺฏุฑูุฏู)"
    
    read -p "ุงูุชุฎุงุจ ฺฉู [ฑ-ด]: " delivery_method
    
    case $delivery_method in
        1) method="ูพุณุช ุณุชุงุฑูโุง"; cost="ฺฉ ุขุฑุฒู"; time="ณ ุฑูุฒ ููุฑ" ;;
        2) method="ูพุณุช ููุฑ ููุฑ"; cost="ฺฉ ูุจุฎูุฏ"; time="ูุญุธูโุง" ;;
        3) method="ูพุณุช ุฑูุง"; cost="ฺฉ ุฑูุง"; time="ฺฉ ุดุจ" ;;
        4) method="ูพุณุช ููุจโูุง"; cost="ฺฉ ูฺฉุฑ ููุฑุจุงู"; time="ุจูุงูุงุตูู" ;;
        *) method="ูพุณุช ูุนููู"; cost="ูฺ"; time="ูุงูุนููู" ;;
    esac
    
    # ุจุณุชูโุจูุฏ ูุงูู
    echo ""
    echo "๐ฆ ุฏุฑ ุญุงู ุจุณุชูโุจูุฏ ูุงูู..."
    sleep 1
    
    letter_id=$((RANDOM % 10000))
    
    cat > "letter_${letter_id}.cosmic" << EOF
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           ูุงูู ฺฉูุงู               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ ฺฏุฑูุฏู: $recipient
โ ูุฑุณุชูุฏู: ุณุงูู (ุงุฒ ุณุงุฑู ุฒูู)
โ ููุถูุน: $subject
โ ุฑูุด ุงุฑุณุงู: $method
โ ูุฒูู: $cost
โ ุฒูุงู ุชุญูู: $time
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ           ูุญุชูุง ูุงูู:              โ
โ                                      โ
$letter_content
โ                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
EOF
    
    echo "โ ูุงูู ุจุณุชูโุจูุฏ ุดุฏ! ุดูุงุณู: COSMIC-$letter_id"
    echo "๐ค ุฏุฑ ุญุงู ุงุฑุณุงู ุจุง $method..."
    sleep 2
    
    # ูพุงุณุฎ ุงุญุชูุงู
    responses=(
        "ูุงู: ูุงูู ุชู ุฑุง ุฏุฑุงูุช ฺฉุฑุฏู! ุงูุดุจ ุฏุฑุฎุดุงูโุชุฑ ุฎูุงูู ุฏุฑุฎุดุฏ."
        "ุณุชุงุฑู ุดูุงู: ูุชุดฺฉุฑู. ุฌูุชุช ุฑุง ฺฏู ูฺฉู."
        "ุขูุฏู: ููุชุธุฑุช ูุณุชูุ ุนุฌูู ูฺฉู."
        "ฺฉูฺฉุดุงู: ุฒุจุง ููุดุช. ุชู ุฌุฒุฆ ุงุฒ ูู."
        "ฺฉ ุฏุฑุฎุช ูุฏู: ุฑุดูโูุงู ูุงูู ุชู ุฑุง ุงุญุณุงุณ ฺฉุฑุฏูุฏ."
    )
    
    echo ""
    echo "๐จ ูพุงุณุฎ: ${responses[$RANDOM % ${#responses[@]}]}"
    
    # ุฐุฎุฑู ฺฉูพ
    mv "letter_${letter_id}.cosmic" ~/cosmic_letters/
}

# ุฏุฑุงูุช ูุงููโูุง ูุฑูุฏ
check_incoming_mail() {
    echo ""
    echo "๐ญ ุจุฑุฑุณ ุตูุฏูู ูพุณุช ฺฉูุงู..."
    
    # ุดุจูโุณุงุฒ ูุงููโูุง ูุฑูุฏ
    incoming_letters=(
        "ุงุฒ ุทุฑู: ุจุงุฏ ุจูุงุฑ | ููุถูุน: ุฏุนูุช ุจู ุฑูุต ุจุฑฺฏโูุง"
        "ุงุฒ ุทุฑู: ุฑูุฏุฎุงูู | ููุถูุน: ุฎุจุฑ ุงุฒ ุณูุฑ ุจู ุฏุฑุง"
        "ุงุฒ ุทุฑู: ฺฉูู ุฏูุงููุฏ | ููุถูุน: ุฏุงุณุชุงูโูุง ูุฏู"
        "ุงุฒ ุทุฑู: ฺฉ ฺฉุชุงุจ ุฏุฑ ฺฉุชุงุจุฎุงูู | ููุถูุน: ูุทูุงู ูุฑุง ุจุฎูุงู"
        "ุงุฒ ุทุฑู: ฺฉูุฏฺฉ ุฏุฑ ุขูุฏู | ููุถูุน: ุฒูู ุฑุง ุจุฑุงู ูฺฏู ุฏุงุฑ"
    )
    
    if [[ ${#incoming_letters[@]} -gt 0 ]]; then
        echo "๐ฌ ุชู ${#incoming_letters[@]} ูุงูู ุฏุงุฑ!"
        
        for i in "${!incoming_letters[@]}"; do
            echo "$((i+1)). ${incoming_letters[$i]}"
        done
        
        read -p "ฺฉุฏุงู ูุงูู ุฑุง ูโุฎูุงู ุจุฎูุงูุ [ฑ-${#incoming_letters[@]}] ุง ฐ ุจุฑุง ูฺฺฉุฏุงู: " choice
        
        if [[ $choice -gt 0 ]] && [[ $choice -le ${#incoming_letters[@]} ]]; then
            echo ""
            echo "๐ ุจุงุฒ ฺฉุฑุฏู ูุงูู..."
            sleep 1
            
            # ูุญุชูุง ูุงูู
            letter_contents=(
                "ุจูุงุฑ ุขูุฏ ู ูู ูููุฒ ุฎูุงุจู... ุจุง ูุฑุง ุจุฏุงุฑ ฺฉูุ ุจุง ุงุญุชุฑุงูุ ุจุงุฏ"
                "ูู ููุดู ุฏุฑ ุญุฑฺฉุช ูุณุชูุ ุงูุง ููุดู ููุณุงู ุชู ุฎูุงูู ูุงูุฏ. ุจู ุฏุฏุงุฑู ุจุง. ุฑูุฏ"
                "ูู ุฏุงุณุชุงูโูุง ุฏุงุฑู ุงุฒ ุฑูุฒูุง ฺฉู ุงูุณุงูโูุง ุจุง ฺฉููโูุง ุตุญุจุช ูโฺฉุฑุฏูุฏ. ูโุฎูุงู ุจุดููุ ุฏูุงููุฏ"
                "ุตูุญุงุชู ุฎุงู ูุณุชุ ููุท ููุชุธุฑ ูฺฏุงู ุชู ูุณุชู. ุชู ูโุชูุงู ุฏุงุณุชุงูู ุฑุง ฺฉุงูู ฺฉู. ฺฉ ฺฉุชุงุจ"
                "ูุงุฏุฑุจุฒุฑฺฏ ูโฺฏูุช ุฒูู ุฒุจุง ุจูุฏ. ูโุดูุฏ ฺฉู ุงุฒ ุขู ุฒุจุง ุฑุง ุจุฑุงู ูฺฏู ุฏุงุฑุ ุจุง ุงูุฏุ ฺฉูุฏฺฉ ุงุฒ ุณุงู ฒฑฐฐ"
            )
            
            echo "โ๏ธ ${letter_contents[$((choice-1))]}"
        fi
    else
        echo "๐ญ ุตูุฏูู ูพุณุช ุฎุงู ุงุณุช... ุงูุง ูฺฏุฑุงู ูุจุงุดุ ูุงููโูุง ุฏุฑ ุฑุงููุฏ!"
    fi
}

# ุงุฌุงุฏ ูพุณุช ฺฉูุงู
mkdir -p ~/cosmic_letters

while true; do
    echo ""
    echo "๐ฃ ุงุฏุงุฑู ูพุณุช ฺฉูุงู - ููู ุงุตู"
    echo "ฑ) ููุดุชู ู ุงุฑุณุงู ูุงูู"
    echo "ฒ) ุจุฑุฑุณ ูุงููโูุง ูุฑูุฏ"
    echo "ณ) ูุดุงูุฏู ูุงููโูุง ุงุฑุณุงู"
    echo "ด) ุฎุฑูุฌ"
    
    read -p "ุงูุชุฎุงุจ ฺฉู: " choice
    
    case $choice in
        1) create_cosmic_letter ;;
        2) check_incoming_mail ;;
        3)
            echo ""
            echo "๐ ูุงููโูุง ุงุฑุณุงู ุชู:"
            ls -la ~/cosmic_letters/*.cosmic 2>/dev/null | head -10 || echo "ูููุฒ ูุงููโุง ุงุฑุณุงู ูฺฉุฑุฏูโุง!"
            ;;
        4)
            echo ""
            echo "๐ฎ ุฏุฑูุง ุงุฏุงุฑู ูพุณุช ููุดู ุจุงุฒ ุงุณุช..."
            echo "ูุฑ ููุช ุฎูุงุณุช ุจุง ฺฉูุงู ูฺฉุงุชุจู ฺฉูุ"
            echo "ููุท ุจุฏุงู ฺฉู ููู ุชู ูโุชูุงูุฏ ุณุชุงุฑูโูุง ุฑุง ุจู ุญุฑฺฉุช ุฏุฑุขูุฑุฏ."
            echo ""
            echo "ุจู ุงูุฏ ุฏุฏุงุฑ ุฏูุจุงุฑูุ ุณุงูู ุฌุงู! โจ"
            break
            ;;
        *) echo "ูุทูุงู ุนุฏุฏ ุจู ฑ ุชุง ด ูุงุฑุฏ ฺฉู" ;;
    esac
done